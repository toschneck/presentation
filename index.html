<!doctype html>
<html lang="en" xmlns="http://www.w3.org/1999/html">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description"
          content="Containerized End-2-End Testing, more information under https://github.com/ConSol/sakuli ">
    <meta name="author" content="Tobias Schneck">

    <title>Containerized End-2-End Testing</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/black.css">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/sakuli_white.css" id="theme">
    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
</head>
<body>
<div class="reveal">
    <div class="slides">
        <section>
            <!--<div style="text-align: left"><img src="pics/background_first_slide_top.png"-->
            <!--style="vertical-align:top; width:11em; border: 0;box-shadow: none"/>-->
            <!--</div>-->

            <h2 style="padding-top: 2em; margin-bottom: 0;text-transform: none">
                Containerized End-2-End Testing
            </h2>

            <h2 style="padding-top: 0.2em;">
                <img src="pics/sakuli-logo.png" style="width:5em; border: 0;box-shadow: none" alt="Sakuli">
                +
                <img src="pics/docker-img.jpg" style="width:5em; border: 0;box-shadow: none" alt="Docker">
            </h2>

            <!-- Referent: Tobias Schneck, ConSol Software GmbH-->
            <p style="padding-top: 6.5em; text-align: right">
                <small><a href="mailto:tobias.schneck@consol.de">Tobias Schneck</a>, <a
                        href="http://www.consol.de">ConSol Software GmbH</a>
                </small>
                </br>
            </p>

            <!--<div style="text-align: right; overflow: hidden; ">-->
            <!--<img src="pics/background_first_slide_bottom.png"-->
            <!--style="vertical-align:text-bottom; width:8em; border: 0;box-shadow: none"/>-->
            <!--</div>-->
        </section>

        <!-- <section>
            <h2>Agenda</h2>
            <b>
                <ol class="coloured">
                    <li>Einordnung End-2-End-Testing</li>
                    <li>Welche Vorteile bieten <br/>Container-Technologien?</li>
                    <li>Der Sakuli End-2-End-Testing Container</li>
                    <li>Integration in die CI-Umgebung</li>
                    <li>Ausblick</li>
                </ol>
            </b>
        </section> -->

        <!--<section>-->
        <!--<h2>Motivation für End-2-End-Testing</h2>-->

        <!--<ul style="padding-top: 0.5em">-->
        <!--<li><b> Business</b>-kritische Applikationen bestehen oft aus einer Vielzahl an Komponenten-->
        <!--</li>-->
        <!--<li>Applikations-<b>Qualität</b> aus Anwendersicht ist nur am Ende der Funktionskette messbar-->
        <!--<p style="margin: 0; margin-top: 0.5em">-->
        <!--<img class="image" src="pics/gear.png" style="border: 0; box-shadow: none; padding-left: 3%"-->
        <!--width="33%">-->
        <!--</p>-->
        <!--</li>-->
        <!--<li>GUI ist die Schnittstelle zum <b>End-User</b></li>-->
        <!--</ul>-->
        <!--</section>-->

        <section>
            <h2>Test Pyramid</h2>
            <table>
                <tr>
                    <td><img class="image" src="pics/test_pyramide.png"
                             style="height:12em; border: 0; box-shadow: none">
                    </td>
                    <td width="37%" style="vertical-align: middle;" class="blue_hook">
                        <ul>
                            <li><b>Robust</b></li>
                            <li><b>Independent</b></li>
                            <li><b>Isolated</b></li>
                            <li><b>Fast</b></li>
                        </ul>
                    </td>
                </tr>
            </table>
        </section>

        <!--<section>-->
        <!--<h2>Anforderung an Testumgebungen</h2>-->
        <!--<ul>-->
        <!--<li class="coloured"><b>Robust</b></li>-->
        <!--<ul style="font-size: 0.8em">-->
        <!--<li>Keine "zufälligen" Fehler</li>-->
        <!--<li>Fehler sind reproduzierbar</li>-->
        <!--</ul>-->
        <!--<li class="coloured"><b>Unabhängig</b></li>-->
        <!--<ul style="font-size: 0.8em">-->
        <!--<li>Möglichst wenig Abhängigkeiten zu externen Systemen</li>-->
        <!--<li>Umgebung sollte exklusiv zur Verfügung stehen</li>-->
        <!--</ul>-->
        <!--<li class="coloured"><b>Isoliert</b></li>-->
        <!--<ul style="font-size: 0.8em">-->
        <!--<li>Tests haben keine Abhängigkeit untereinander</li>-->
        <!--<li>Tests sollten parallelisierbar sein</li>-->
        <!--</ul>-->
        <!--<li class="coloured"><b>Schnell</b></li>-->
        <!--<ul style="font-size: 0.8em">-->
        <!--<li>Kurze Laufzeiten mit aussagekräftigem Feedback</li>-->
        <!--</ul>-->
        <!--<div style="font-size: 0.5em; text-align: right; margin-top: 1em">-->
        <!--(vgl. Roland Huß - Integration Testing mit Docker)-->
        <!--</div>-->
        <!--</ul>-->

        <!--<aside class="notes">-->
        <!--Quelle: Roland Huss-->
        <!--</aside>-->
        <!--</section>-->

        <section>
            <h2 style="padding-bottom: 0.2em">Characteristics of End-2-End Testing</h2>
            <div><img class="image" src="pics/gear.png"
                      style="height: 4em; border: 0; box-shadow: none; margin: 0em; padding-bottom: 0.2em">
            </div>
            <ul>
                <li style="padding-top: 0" class="coloured">Different types of testing:</li>
                <ul style="font-size: large">
                    <li>Regression tests</li>
                    <li>Functional approval tests</li>
                </ul>
                <li style="padding-top: 0" class="coloured">Parallel tests with GUIs are complex</li>
                <ul style="font-size: large">
                    <li>Stateful tests: user logins, sessions, history</li>
                    <li>Setup and cleanup of test data</li>
                </ul>
                <!--<li class="coloured">Testumgebung muss möglichst nah an der <br/>End-User-Umgebung sein</li>-->
                <li style="padding-top: 0" class="coloured">Manual effort<b> > </b>effort for test automation</li>
            </ul>
        </section>

        <section>
            <h2 style="margin: 0">Virtual Machines vs. Container
                <br/><span style="font-size: x-large;">(explained on the example of Docker)</span></h2>
            <img width="95%" src="pics/vm_vs_docker.png">
        </section>
        <section>
            <h2>Immutable Filesystem Layers
                <p style="font-size: x-large">(explained on the example of Docker)</p></h2>
            <div style="padding-top: 0em;">
                <img width="60%" src="pics/docker-layers.png">
            </div>
        </section>

        <section>
            <h2 style="padding-bottom: 0.2em">Advantages of Container Technology</h2>
            <img class="image" src="pics/container-technology.jpg"
                 style="height: 4em; border: 0; box-shadow: none; margin: 0em; padding-bottom: 0.2em">
            <ul class=" blue_hook">
                <li><b class="coloured">Isolation</b> of environments</li>
                <li><b class="coloured">Repository</b> for versioning and distribution</li>
                <li><b class="coloured">Reproducible</b> application environment</li>
                <ul style="list-style: disc">
                    <li>Dockerfile, docker-compose.yml</li>
                </ul>
                <li>Starting containers <b class="coloured">on-the-fly</b></li>
                <li>Optimized for <b class="coloured">parallel execution</b></li>
                <ul style="list-style: disc">
                    <li>Less memory overhead</li>
                    <li>Shared Linux kernel</li>
                </ul>
            </ul>
        </section>


        <section>
            <a target="_blank" href="video/containerized_gui.mp4">
                <h2>Containerized GUIs </h2>
            </a>
            <!-- @formatter:off-->
            <pre><code class="hljs-shebang" data-trim contenteditable="false">
### start the docker container via x-forwarding
docker run -it -e DISPLAY=$DISPLAY -v /tmp/.X11-unix:/tmp/.X11-unix:rw rasch/inkscape
            </code></pre>

            <pre><code class="hljs-shebang" data-trim contenteditable="false">
### start the docker container with VNC interface
# connect via URL: http://localhost:6911/vnc_auto.html?password=vncpassword
docker run -it -p 5911:5901 -p 6911:6901 consol/ubuntu-xfce-vnc
docker run -it -p 5912:5901 -p 6912:6901 consol/centos-xfce-vnc
            </code></pre>
            <!-- @formatter:on-->
            <div style="padding-top: 0.7em;">
                <img width="42%" style="vertical-align:top; margin-right: 0.5em" src="pics/inkscape.png">
                <a target="_blank"
                   href="http://localhost:6911/vnc_auto.html?password=vncpassword">
                    <img width="42%" style="vertical-align: top; margin-left: 0.5em;" src="pics/centos_xfce_vnc.png">
                </a>
            </div>

            <aside class="notes">
                für local_VNC overview
                docker run -it -p 5911:5901 -p 6911:6901 -e "VNC_PW=vncpasword" consol/centos-xfce
            </aside>
        </section>

        <!--<section>-->
        <!--<h2>Container mit GUI?</h2>-->
        <!--<ul>-->
        <!--<li>Oberfläche (X-Window), Steuerung, Apps</li>-->
        <!--</ul>-->
        <!--<div class="fragment" style="padding-top: 0.4em;">-->
        <!--<img width="60%" style="box-shadow: none" src="pics/container_headless_gui.png">-->
        <!--</div>-->
        <!--</section>-->

        <!--<section>-->
        <!--<h2>Anforderung End-2-End-Testing Tool</h2>-->
        <!--<ul>-->
        <!--<li>Web-Test-Tools haben nur Zugriff auf DOM-Elemente</li>-->
        <!--<li>Grafisch basierte Tests sind ressourcenintensiv</li>-->
        <!--<li>OS-unabhängiges Framework</li>-->
        <!--<li>Rendering testbar?</li>-->
        <!--<li>Wie kann man Nicht-HTML-Inhalte testen bzw. damit umgehen?-->
        <!--<br/>-->
        <!--<b style="font-size: xx-large;" class="coloured">=> Flash, PKI-Abfragen, Java Applets, Plugins</b>-->
        <!--</li>-->
        <!--</ul>-->

        <!--<div style="padding-top: 0.3em">-->
        <!--<img src="pics/java_applet.png" style="height: 4.3em;"></div>-->
        <!--<aside class="notes">-->
        <!--<ul>-->
        <!--<li>Sahi, Selenium, Casperjs, Webinject...</li>-->
        <!--<li>AutoIT, Sikuli, Autohotkey, .... Grenzen (fairerweise: ihre natürlichen).</li>-->
        <!--<li>zu speziell: blinde Flecken (oder auch PIN-Abfrage!)</li>-->
        <!--<li>(teilweise) OS-abhängig: z.b. Auto IT -> WIndows</li>-->
        <!--<li>zu generisch: für Web- -> Seitenaufbau (DOM) kennt.</li>-->
        <!--<li>Realitätsbezug: Tools die Browsr simulieren -> Rendering-Engine? . D.h. ob die Seite beim User-->
        <!--wirklich-->
        <!--so aussieht?-->
        <!--</li>-->
        <!--</ul>-->
        <!--</aside>-->

        <!--</section>-->

        <!--<section>-->
        <section>
            <h2>
                <div style=" height: 1.5em;">What's provided by <img
                        style="margin-left: 0.2em; box-shadow: none" src="pics/sakuli-logo.png"/> ?
                </div>
            </h2>
            <table>
                <tbody>
                <tr>
                    <td width="13%" style="padding: 0; text-align: center">
                        <img class="image"
                             src="pics/sahi_worker.png" style="height: 3em; border: 0;">
                    </td>
                    <td width="13%" style="padding: 0;  text-align: center">
                        <img class="image"
                             src="pics/sikuli_worker.png" style="height: 3em; border: 0;">
                    </td>
                    <td width="13%" style="padding: 0 0 0.3em 0; text-align: center">
                        <img class="image"
                             src="pics/3maennchen_mit_sakuli.png" style=" height: 3em; border: 0; ">
                    </td>
                    <td style="padding: 0; text-align: left; vertical-align: bottom; border-left: 1px">
                        <h3 style="padding-left: 0.7em;">Category</h3>
                    </td>
                </tr>

                <tr>
                    <td style="text-align: center"><img src="pics/bubble_green.png"
                                                        class="bubbels">
                    </td>
                    <td style="text-align: center"><img src="pics/bubble_red.png"
                                                        class="bubbels"></td>
                    <td style="text-align: center"><img src="pics/bubble_green.png"
                                                        class="bubbels"></td>
                    <td class="bubbels-text">
                        Web tests through HTML selectors
                    </td>
                </tr>

                <tr>
                    <td style="text-align: center"><img src="pics/bubble_red.png"
                                                        class="bubbels">
                    </td>
                    <td style="text-align: center"><img src="pics/bubble_green.png"
                                                        class="bubbels"></td>
                    <td style="text-align: center"><img src="pics/bubble_green.png"
                                                        class="bubbels"></td>
                    <td class="bubbels-text">
                        Testing native UI content
                        <div style="font-size: large">(beside of browser content, like PDF's or plugins)</div>
                    </td>
                </tr>
                <tr>
                    <td style="text-align: center"><img src="pics/bubble_green.png"
                                                        class="bubbels">
                    </td>
                    <td style="text-align: center"><img src="pics/bubble_green.png"
                                                        class="bubbels"></td>
                    <td style="text-align: center"><img src="pics/bubble_green.png"
                                                        class="bubbels"></td>
                    <td class="bubbels-text">
                        Open Source & Java API
                    </td>
                </tr>
                <tr>
                    <td style="text-align: center"><img src="pics/bubble_red.png"
                                                        class="bubbels">
                    </td>
                    <td style="text-align: center"><img src="pics/bubble_red.png"
                                                        class="bubbels"></td>
                    <td style="text-align: center"><img src="pics/bubble_green.png"
                                                        class="bubbels"></td>
                    <td class="bubbels-text">Headless execution</span>                         </td>
                </tr>
                <tr>
                    <td style="text-align: center"><img src="pics/bubble_green.png"
                                                        class="bubbels">
                    </td>
                    <td style="text-align: center"><img src="pics/bubble_gray.png"
                                                        class="bubbels"></td>
                    <td style="text-align: center"><img src="pics/bubble_gray.png"
                                                        class="bubbels"></td>
                    <td class="bubbels-text">
                        Test writing assistance
                        <div style="font-size: large">(recorder, screenshot finder)</div>
                    </td>
                </tr>
                <tr>
                    <td style="text-align: center"><img src="pics/bubble_gray.png"
                                                        class="bubbels">
                    </td>
                    <td style="text-align: center"><img src="pics/bubble_red.png"
                                                        class="bubbels"></td>
                    <td style="text-align: center"><img src="pics/bubble_green.png"
                                                        class="bubbels"></td>
                    <td class="bubbels-text">
                        Automatable / Test result reporting
                        <div style="font-size: large">(CI, DB, monitoring environment)</div>
                    </td>
                </tr>
                </tbody>
            </table>
        </section>
        <section>
            <table style="margin-bottom: 0.5em;">
                <tbody>
                <tr style="padding-bottom: 0.2em">
                    <td width="40%"
                        style="text-align: center; padding:0; background: url(pics/dom.png) no-repeat bottom; background-size: 80%">
                        <img style="border: 0; padding: 0; margin: 0; height: 2em; box-shadow: none"
                             src="pics/sahi.png">
                    </td>
                    <td style="text-align: center"><img
                            style="height: 6em; border: 0; padding: 0; margin: 0; box-shadow: none"
                            src="pics/3maennchen_mit_sakuli.png"></td>
                    <td width="40%"
                        style="text-align: center;padding: 0; background: url(pics/screen_shots.png) no-repeat bottom; background-size: 77%">
                        <img style="border: 0; padding: 0; margin: 0;height: 2em; box-shadow: none"
                             src="pics/sikuli.png">
                    </td>
                </tr>
                </tbody>
            </table>
            <table>
                <tbody>
                <tr style="font-size: 0.9em;">
                    <td width="47%" style="padding: 0; vertical-align: top; font-size: 0.7em">
                        <ul>
                            <li>Area: <b>Browser</b> content <br/>(e.g. HTML pages, single page apps)</li>
                            <li>Object identification by DOM elements</li>
                            <li>Detects when Page/AJAX-Requests are loaded (no waits needed)</li>
                            <li>Can handle with modern web frameworks</li>
                            <li>Recorder / identifier assistance UI</li>
                            <li>Assert functionality</li>
                        </ul>
                        <!--<div class="backgrounds">-->
                        <!--<img src="pics/dom.png" style="opacity: 0.7; border: 0;">-->
                        <!--</div>-->
                    </td>
                    <td style="padding: 10px"></td>
                    <td width="47%" style="padding: 0; vertical-align: top; font-size: 0.7em">
                        <ul>
                            <li>Area: <b>Screen</b> content <br/>(e.g. rich clients, browser plugins)</li>
                            <li>Object identification by image patterns (screenshot snippets)</li>
                            <li>Not restricted to a browser, validates and controls what users would see</li>
                            <li>Flexible region patterns for the screen navigation</li>
                            <li>OCR features
                                <small style="vertical-align: baseline">(experimental)</small>
                            </li>
                            <li>Implemented on top of <b>java.awt.Robot</b> and <b>openCV</b></li>
                        </ul>
                    </td>
                </tr>
                </tbody>
            </table>
        </section>
        <section>
            <h2 style="margin-bottom: 0.2em; padding-bottom: 0.3em"><img style="height: 1.5em;box-shadow: none"
                                                                         src="pics/sakuli-logo.png"/>
                Monitoring Integration</h2>
            <img style="margin-left: 2em;box-shadow: none" src="css/theme/pics/green_hook_list.png">
            Nagios
            <img style="margin-left: 2em;box-shadow: none" src="css/theme/pics/green_hook_list.png">
            OMD
            <img style="margin-left: 2em;box-shadow: none" src="css/theme/pics/green_hook_list.png">
            Incinga
            <a target="_blank" href="https://github.com/ConSol/sakuli/blob/master/docs/index.md">
                <img width="85%" style="border: 0; margin-top: 0.7em" src="pics/nagios.png">
            </a>
        </section>


        <!--</section>-->
        <!--<section>-->
        <!--<h2>-->
        <!--<div style=" height: 1.5em;">Kurzprofil <img-->
        <!--style="margin-left: 0.2em; box-shadow: none" src="pics/sakuli-logo.png"/></div>-->
        <!--</h2>-->
        <!--<ul>-->
        <!--<li><b>Automatisierung von End-2-End-Tests</b></li>-->
        <!--<li><b>End-2-End-Monitoring für Applikationen</b></li>-->
        <!--<li><b>Erweiterbare "Forwarder"-Module</b>-->
        <!--<ul style="font-size: xx-large">-->
        <!--<li>SQL-Datenbank, Nagios oder andre Fremdsysteme</li>-->
        <!--</ul>-->
        <!--</li>-->
        <!--<li><b>Open-Source</b> (Apache License 2.0)</li>-->
        <!--<ul style="font-size: xx-large">-->
        <!--<li>-->
        <!--<div style="font-size: xx-large;">-->
        <!--<a href="https://github.com/ConSol/sakuli" target="_blank">-->
        <!--<img src="pics/github_logo.png"-->
        <!--style="box-shadow: none; vertical-align: baseline; margin-bottom: -3px; height: 1.1em">-->
        <!--&lt;!&ndash;<b style="margin-left: 0.4em">&ndash;&gt;-->
        <!--&lt;!&ndash;https://github.com/ConSol/sakuli&ndash;&gt;-->
        <!--&lt;!&ndash;</b>&ndash;&gt;-->
        <!--</a>-->
        <!--998 commits, 8 contributors-->
        <!--</div>-->
        <!--</li>-->
        <!--&lt;!&ndash;<li>&ndash;&gt;-->
        <!--&lt;!&ndash;<div class="coloured" style=" font-size: xx-large;">&ndash;&gt;-->
        <!--&lt;!&ndash;<a href="https://twitter.com/sakuli_e2e">&ndash;&gt;-->
        <!--&lt;!&ndash;<img src="pics/twitter_handle.png" style="box-shadow: none; height: 1em">&ndash;&gt;-->
        <!--&lt;!&ndash;<b style="margin-left: 0.2em">&ndash;&gt;-->
        <!--&lt;!&ndash;https://twitter.com/sakuli_e2e&ndash;&gt;-->
        <!--&lt;!&ndash;</b>&ndash;&gt;-->
        <!--&lt;!&ndash;</a>&ndash;&gt;-->
        <!--&lt;!&ndash;</div>&ndash;&gt;-->
        <!--&lt;!&ndash;</li>&ndash;&gt;-->
        <!--<li>Entwicklung seit Mitte 2013</li>-->
        <!--&lt;!&ndash;<li>804 commits, 6 contributors</li>&ndash;&gt;-->
        <!--</ul>-->
        <!--<li><b>Im Einsatz bei verschiedenen Branchen</b>-->
        <!--<ul style="font-size: xx-large">-->
        <!--<li> IT & Telekommunikation-->
        <!--<li>Banken & Versicherungen</li>-->
        <!--<li>Bau & Innenausbau</li>-->
        <!--&lt;!&ndash;<li>...</li>&ndash;&gt;-->

        <!--</ul>-->

        <!--</li>-->
        <!--</ul>-->
        <!--</section>-->


        <!--<section>-->
        <!--&lt;!&ndash;<section>&ndash;&gt;-->
        <!--&lt;!&ndash;<h2>DEMO</h2>&ndash;&gt;-->
        <!--&lt;!&ndash;<iframe width="560" height="315" src="https://www.youtube.com/embed/z3opwqqy3io" frameborder="0"&ndash;&gt;-->
        <!--&lt;!&ndash;allowfullscreen></iframe>&ndash;&gt;-->
        <!--&lt;!&ndash;<p>&ndash;&gt;-->
        <!--&lt;!&ndash;<a href="video/m-net_order_processing.wmv" target="_blank">Video File </a>&ndash;&gt;-->
        <!--&lt;!&ndash;</p>&ndash;&gt;-->
        <!--&lt;!&ndash;&lt;!&ndash;src="pics/video_preview.png"></a>&ndash;&gt;&ndash;&gt;-->
        <!--&lt;!&ndash;</section>&ndash;&gt;-->
        <section>

            <section>
                <h2>Test definition (Java Script)</h2>
                <img width="50%" class="image" src="pics/test_suite_aufbau.png">
            </section>
            <section>
                <h3 style="text-transform: inherit">Test Case Structure</h3>
                <!-- @formatter:off -->
        <pre><code class="javascript" data-trim contenteditable="false">
// testcase.js

/*************************************
* Initialization
*************************************/
_dynamicInclude($includeFolder);
var testCase = new TestCase(60, 70);
var env = new Environment();
var appNotepad = new Application("gedit");
var region = new Region();

/******************************
* Description of the test case
******************************/
try {

    //...

/************************************************
* Exception handling and shutdown of test case
**********************************************/
} catch (e) {
    testCase.handleException(e);
} finally {
    testCase.saveResult();
}
        </code></pre>
            <!-- @formatter:on -->
            </section>

            <section>
                <h3 style="text-transform: inherit">Call all Sahi Functions</h3>
                <!-- @formatter:off -->
        <pre><code class="javascript" data-trim contenteditable="false">
// testacase.js
/************************
* Call Sahi Functions
***********************/

_navigateTo("http://sahi.example.com/_s_/dyn/Driver_initialized");
_highlight(_link("SSL Manager"));
_isVisible(_link("SSL Manager"));
_highlight(_link("Logs"))
_click(_link("Logs"))

testCase.endOfStep("Test Sahi landing page", 5);
        </code></pre>
          <!-- @formatter:on -->
            </section>

            <section>
                <h3 style="text-transform: inherit">Fluent API for UI Testing</h3>
                <!-- @formatter:off -->
        <pre><code class="javascript" data-trim contenteditable="false">
// testacase.js

/*** open calculator app ***/
var calculatorApp = new Application("galculator")
    .open();
testCase.endOfStep("Open Calculator", 3);

/*** calculate 525 + 100 ***/
var calculatorRegion = calculatorApp.getRegion();
calculatorRegion.type("525")
    .find("plus.png")
    .click()
    .type("100")
    .find("calculate")
    .click();

testCase.endOfStep("calculate 525 +100", 20);
        </code></pre>
            <!-- @formatter:on -->
            </section>

            <section>
                <h3 style="text-transform: inherit">Custom Functions</h3>
                <!-- @formatter:off -->
        <pre><code class="javascript" data-trim contenteditable="false">
// e.g. excluded into a separate common.js

/**********
* Combine click and highlight
*********/
function clickHighlight($selector) {
    _highlight($selector);
    _click($selector);
}

/***************
* Open PDF in native viewer
**************/
var PDF_EDITOR_NAME = "masterpdfeditor3";

function openPdfFile(pdfFileLocation) {
    return new Application(PDF_EDITOR_NAME + ' "' + pdfFileLocation + '"').open();
}

        </code></pre>
          <!-- @formatter:on -->
            </section>

            <!--<section>-->
            <!--<h3 style="text-transform: inherit">Definition eines Ablaufs</h3>-->
            <!--&lt;!&ndash; @formatter:off &ndash;&gt;-->
        <!--<pre><code class="javascript" data-trim contenteditable="false">-->
            <!--// testacase.js-->
            <!--/************************-->
            <!--* Some Variables-->
            <!--***********************/-->
            <!--var $cl_home = "http://labs.consol.de/lang/en";-->
            <!--var $cl_projekte = "Projects";-->
            <!--var $cl_c_mysql_h = "check_mysql_health";-->
            <!--var $cl_c_oracle_h = "check_oracle_health";-->

            <!--/************************-->
            <!--* Step for Notepad-->
            <!--***********************/-->
            <!--appNotepad.open();-->
            <!--env.type("Welcome to Sakuli!\n")-->
                <!--.type("I will help you to test your projects, like webapplications...\n")-->
                <!--.sleep(2);-->
            <!--testCase.endOfStep("notepad", 20);-->

            <!--/************************-->
            <!--* Step for labs.consol-->
            <!--***********************/-->
            <!--switchWindow();-->
            <!--_navigateTo($cl_home);-->
            <!--_highlight(_link($cl_projekte));-->
            <!--_click(_link($cl_projekte));-->

            <!--env.sleep(5).takeScreenshot("C:\\sakuli\\testscreenshot_after_5sec.png");-->
            <!--_highlight(_link($cl_c_mysql_h));-->
            <!--_click(_link($cl_c_mysql_h));-->
            <!--_highlight(_link($cl_c_oracle_h));-->
            <!--_click(_link($cl_c_oracle_h));-->
            <!--_setValue(_textbox("s"), "nagios");-->
            <!--_click(_link("Home[1]"));-->
            <!--testCase.endOfStep("project", 20);-->

            <!--/*****************-->
            <!--* print test client-->
            <!--*****************/-->
            <!--backToNotepad();-->
            <!--env.type("I can also test client applications, like gedit...\n")-->
                <!--.sleep(2);-->
            <!--testCase.endOfStep("print_test_client", 10);-->
        <!--</code></pre>-->
            <!--&lt;!&ndash; @formatter:on &ndash;&gt;-->
            <!--</section>-->
        </section>

        <section>
            <h2>Sakuli End-2-End Testing Container</h2>

            <div style="margin-top: 2em">
                <img width="100%" style="box-shadow: none" src="pics/container_sakuli.png">
            </div>
        </section>

        <section>
            <a target="_blank" href="video/sakuli_containers.mp4">
                <h2>Demo - Sakuli Container</h2>
            </a>

            <!-- @formatter:off-->
            <pre><code data-trim contenteditable="false">
# start the docker container
docker run -it -p 5911:5901 -p 6911:6901 consol/sakuli-ubuntu-xfce
docker run -it -p 5912:5901 -p 6912:6901 consol/sakuli-centos-xfce

# start in parallel via docker-compose
# use docker-compos.yml from https://github.com/ConSol/sakuli/tree/master/docker
docker-compose up
            </code></pre>
            <!-- @formatter:on-->
            <div style="padding-top: 0.4em;">
                <a target="_blank"
                   href="vnc_overview_local.html">
                    <img width="47%" style="box-shadow: none;" src="pics/docker_sakuli_example.png">
                </a>
            </div>

            <aside class="notes">
                für local_VNC overview
                docker-compose -f docker-compose_example_xfce.yml rm -f && docker-compose -f
                docker-compose_example_xfce.yml up
            </aside>
        </section>

        <!--<section>-->
        <!--<h2>Architektur</h2>-->
        <!--<img width="80%" style="background: whitesmoke; border: none" src="pics/sakuli_architectur.png">-->
        <!--</section>-->

        <!--<section>-->
        <!--<h2>Erweiterbare Architektur</h2>-->
        <!--<img width="80%" style="box-shadow: none" src="pics/kombination_with_citrus.png">-->
        <!--</section>-->

        <!--<section>-->
        <!--<h2>Ausblick - Queue Architektur</h2>-->
        <!--<ul style="font-size: 0.8em">-->
        <!--<li>Skalierung durch Client-Worker-Prinzip</li>-->
        <!--<li>Einfachere Wartung</li>-->
        <!--<li>Zentraler Scheduler</li>-->
        <!--</ul>-->
        <!--<div style="height: 13em"><img style="background: whitesmoke" src="pics/queue_architecture.png">-->
        <!--</div>-->
        <!--</section>-->

        <section>
            <h2 style="padding-bottom: 0">Bakery Demo Setup</h2>
            <a href="https://github.com/toschneck/sakuli-example-bakery-testing" target="_blank"><img width="90%"
                                                                                                      style=" border: none"
                                                                                                      src="pics/ci_umgebung.png"/></a>
        </section>
        <section>
            <h2 style="padding-bottom: 0">Bakery Demo Setup</h2>
            <a href="https://github.com/toschneck/sakuli-example-bakery-testing" target="_blank"><img width="90%"
                                                                                                      style=" border: none"
                                                                                                      src="pics/ci_umgebung_2.png"/></a>
        </section>
        <section>
            <a target="_blank" href="video/sakuli_ci_cm6_demo.mp4">
                <h2>Bakery Demo</h2>
            </a>

            <!-- @formatter:off-->
            <pre><code data-trim contenteditable="false">
git clone https://github.com/toschneck/sakuli-example-bakery-testing.git

# start jenkins
jenkins/deploy_jenkins.sh
# start OMD montioring
omd-nagios/deploy_omd.sh

# start the build of the application images
bakery-app/app-deployment-docker-compose/deploy_app.sh

#start tests
sakuli-tests/execute_all.sh
#start tests for monitoring
sakuli-tests/execute_all_4_monitoring.sh
            </code></pre>
            <!-- @formatter:on-->
            <div style="padding-top: 0.5em"></div>
            <table width="90%">
                <tr>
                    <td width="50%">
                        <a target="_blank" href="vnc_overview_local.html">
                            <img style="box-shadow: none;padding-right: 0.5em; width: 100%"
                                 src="pics/ci_bakery_test.png">
                        </a>
                    </td>
                    <td style="vertical-align: top; text-align: right;padding-top: 0.4em;" width="50%">
                        <a target="=_blank" href="http://localhost:8080/">
                            <img style="box-shadow: none; width: 100%"
                                 src="pics/ci_jenkins_pipeline.png">
                        </a>
                    </td>
                </tr>
            </table>
        </section>


        <section>
            <h2>What's next?</h2>
            <ul style="font-size: 0.8em; padding-top: 1em">
                <li>Headless execution -
                    <b>Linux:</b>
                    VNC & Docker
                    <img style="box-shadow: none" src="css/theme/pics/green_hook_list.png"/>
                    <b>Windows:</b> <b style="color: red; font-size: 1.3em">?</b>
                </li>
                <li>Make container <b>OpenShift</b> ready (security, source-2-image)</li>
                <li><b>Video</b> recording of the test execution (error documentation)</li>
                <li><b>Web UI</b> to handle Sakuli test suites</li>
                <li>Connect 3rd-party <b>test management tools</b> (HP QC, TestRail, ...)</li>
                <li>Improve test <b>result presentation</b> in CI tools</li>
                <li><b>Selenium</b> as an alternative to Sahi</li>
            </ul>
        </section>


        <section>
            <h2>Links</h2>

            <table style="font-size: 0.8em">
                <tr>
                    <td>
                        <img src="pics/github.png" style="box-shadow: none; height: 7em; width: 100%">
                    </td>
                    <td style="vertical-align: middle">
                        <a href="https://github.com/ConSol/sakuli" target="_blank">
                            <b>
                                https://github.com/ConSol/sakuli
                            </b>
                        </a>
                        <br/>

                        <div style="padding-top: 0.5em"></div>
                        <a href="https://github.com/toschneck/sakuli-example-bakery-testing" target="_blank">
                            <b>
                                https://github.com/toschneck/sakuli-example-bakery-testing
                            </b>
                        </a>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div style="padding-top: 1.5em"></div>
                    </td>
                </tr>
                <tr>
                    <td style="text-align: center">
                        <a href="https://twitter.com/sakuli_e2e">
                            <img src="pics/twitter_handle.png" style="box-shadow: none; height: 1em">
                        </a>
                    </td>
                    <td><a href="https://twitter.com/sakuli_e2e">
                        <b>https://twitter.com/sakuli_e2e</b>
                    </a>
                    </td>
                <tr>
                    <td style="text-align: center">
                        <a href="https://twitter.com/consol_de">
                            <img src="pics/twitter_consol_de.png" style="box-shadow: none; height: 0.95em">
                        </a>
                    </td>
                    <td><a href="https://twitter.com/consol_de">
                        <b>https://twitter.com/consol_de</b>
                    </a>
                    </td>
                </tr>
            </table>
        </section>

        <!--<section>-->
        <!--<h1 class="coloured" style="text-transform: inherit">Fragen?</h1>-->
        <!--</section>-->
        <section>
            <h1 class="coloured" style="text-transform: inherit">Thank's Herbstcampus!</h1>

            <table style="font-size: x-large;margin-top: 4em" width="70%">
                <tr>
                    <td style=" width: 30%;padding-right: 20px;  padding-top: 0.2em;">
                        <img style="margin-right: 15px; float: left"
                             src="pics/profil_pic_sakuli.jpg">
                    </td>
                    <td style="vertical-align: middle; line-height: 1.5em">
                        <b>Tobias Schneck</b>
                        <br/>
                        <a style="float: left; padding-right: 1em;
                        " href="mailto:tobias.schneck@consol.de">tobias.schneck@consol.de</a>
                        <!--<br/>-->
                        <a style="float: left; padding-left: 15px" href="https://twitter.com/toschneck">
                            <img src="pics/twitter_toschneck.png"
                                 style="vertical-align: top; box-shadow: none; height: 1.2em; margin-top: 0.25em">
                        </a>
                    </td>
                </tr>
                <tr>
                    <td style="text-align: center;vertical-align: top">
                        <img src="pics/consol_c.png"
                             style="padding-top: 3em; height: 5em; box-shadow: none;float: none">
                    </td>
                    <td style="padding-top: 3em">
                        <table style="">
                            <tr>
                                <td colspan="2"><b>ConSol Software GmbH</b></td>
                            </tr>
                            <tr>
                                <td colspan="2">Franziskanerstraße 38</td>
                            </tr>
                            <tr>
                                <td colspan="2">D-81669 München</td>
                            </tr>
                            <tr>
                                <td>Tel: +49-89-45841-100</td>
                                <td><a href="mailto:info@consol.de">info@consol.de</a></td>
                            </tr>
                            <tr>
                                <td style="padding-right: 20px">Fax: +49-89-45841-111</td>
                                <td><a href="http://www.consol.de">www.consol.de</a></td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
        </section>

    </div>
</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>
    // More info https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,
        touch: true,
        hideAddressBar: true,

        transition: 'slide', // none/fade/slide/convex/concave/zoom

        // Slide number formatting can be configured using these variables:
        //  h: current slide's horizontal index
        //  v: current slide's vertical index
        //  c: current slide index (flattened)
        //  t: total number of slides (flattened)
//        slideNumber: 'c / t',
        slideNumber: 'c',


        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
            {
                src: 'lib/js/classList.js', condition: function () {
                return !document.body.classList;
            }
            },
            {
                src: 'plugin/markdown/marked.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: 'plugin/markdown/markdown.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: 'plugin/highlight/highlight.js', async: true, callback: function () {
                hljs.initHighlightingOnLoad();
            }
            },
            {src: 'plugin/zoom-js/zoom.js', async: true},
            {src: 'plugin/notes/notes.js', async: true}
        ]
    });
</script>
</body>
</html>

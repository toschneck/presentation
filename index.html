<!doctype html>
<html lang="en" xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description"
          content="Testing - Selenium? Rich-Clients? Containers? more information under https://github.com/ConSol/sakuli ">
    <meta name="author" content="Tobias Schneck">

    <title>UI-Testing - Selenium? Rich-Clients? Containers?</title>

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <link rel="stylesheet" href="css/reveal.css">
    <!--<link rel="stylesheet" href="css/theme/sakuli_white.css" id="theme">-->
    <link rel="stylesheet" href="css/theme/sakuli_se_white.css" id="theme">
    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
</head>

<body>

<div class="reveal">
    <!-- Any section element inside of this container is displayed as a slide -->
    <div class="slides">
        <section>
            <!--<div style="text-align: left"><img src="pics/background_first_slide_top.png"-->
            <!--style="vertical-align:top; width:11em; border: 0;box-shadow: none"/>-->
            <!--</div>-->
            <img style="
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.15);
             background-color: white;
             padding: 30px;
             width: 40%;
" src="pics/swansea-conf.png">

            <h1 style="padding-top: 1em; margin-bottom: 0;text-transform: none">
                UI-Testing
            </h1>
            <h2 style="padding-top: 1em; margin-bottom: 0;text-transform: none">
                Selenium? Rich-Clients? Containers?
            </h2>

            <!--<h2 style="padding-top: 0.2em;">-->
            <!--<img src="pics/sakuli-logo.png" style="width:5em; border: 0;box-shadow: none" alt="Sakuli">-->
            <!--+-->
            <!--<img src="pics/docker-img.jpg" style="width:5em; border: 0;box-shadow: none" alt="Docker">-->
            <!--</h2>-->

            <!-- Referent: Tobias Schneck, ConSol Software GmbH-->
            <p style="padding-top: 4.5em; text-align: right">
                <small><a href="mailto:tobias.schneck@consol.de">Tobias Schneck</a>, <a
                        href="http://www.loodse.com">Loodse GmbH</a> / <a
                        href="http://www.consol.de">ConSol Software GmbH</a>
                </small>
                </br>
            </p>

            <!--<div style="text-align: right; overflow: hidden; ">-->
            <!--<img src="pics/background_first_slide_bottom.png"-->
            <!--style="vertical-align:text-bottom; width:8em; border: 0;box-shadow: none"/>-->
            <!--</div>-->
        </section>
        <section>
            <h2>How is Loodse?</h2>
            <img style="height: 400px" src="pics/loodse_company.png">
        </section>

        <section>
            <h2>During the UI development phase ...</h2>
            <img height="300px" src="pics/comic_strip/ui_button.jpg">
            <!--https://s-media-cache-ak0.pinimg.com/564x/c0/7d/30/c07d300ba6918319034230ee45418428.jpg-->
        </section>

        <section>
            <h2>Yeah - release 1.0 is out!</h2>
            <img style="margin-top: 0.5em" height="400px" src="pics/comic_strip/office_party.jpg">
            <!--http://images.nymag.com/news/features/establishments/workingfam101004_560.jpg-->
        </section>
        <section>
            <h2>Writing first web UI tests!</h2>
            <table style="padding-top: 2em">
                <tr>
                    <td style="text-align: center">Sahi OS</td>
                    <td style="text-align: center"><b>Selenium</b></td>
                    <td style="text-align: center">TestCafe</td>

                </tr>
                <tr>
                    <td>
                        <div style="height: 1em"/>
                    </td>
                </tr>
                <tr>
                    <td style="text-align: center; padding: 0px 30px 0px 30px"><img
                            style="box-shadow: none; height: 150px" src="pics/sahi.png"></td>
                    <td style="text-align: center; padding: 0px 30px 0px 30px"><img
                            style="box-shadow: none; height: 150px" src="pics/selenium-logo.png"></td>
                    <td style="text-align: center; padding: 0px 30px 0px 30px"><img
                            style="box-shadow: none; height: 120px" src="pics/testcafe.png"></td>
                </tr>
            </table>
        </section>
        <section>
            <a href="https://github.com/ConSol/sakuli-examples/blob/5997e758ac970ff13551f4cf6196e53fb9fe4969/java-selenium-example/src/test/java/org/sakuli/example/citrus/CitrusHtmSeleniumTest.java"
               target="_blank">
                <h2><img src="pics/github-mark.png" style="box-shadow: none; height: 0.7em">
                    First Selenium Test</h2>
            </a>
            <!-- @formatter:off-->
            <pre><code class="java" data-trim contenteditable="false">
public class CitrusHtmSeleniumTest {

    private static final String CITRUS_URL = "http://www.citrusframework.org/";
    private WebDriver driver;
    private CustomSeleniumDsl dsl;

    @BeforeMethod
    public void setUp() {
        driver = new ChromeDriver();
        dsl = new CustomSeleniumDsl((JavascriptExecutor) driver);
    }

    @Test
    public void testCitrusHtmlContent() throws Exception {
        driver.get(CITRUS_URL);

        //find Heading
        WebElement heading1 = driver.findElement(By.cssSelector("p.first"));
        dsl.highlightElement(heading1);
        assertEquals(heading1.getText(), "Citrus Integration\nTesting");
        assertTrue(heading1.isDisplayed());

        //validate HTML content
        WebElement heading2 = driver.findElement(By.tagName("h1"));
        dsl.highlightElement(heading2);
        assertEquals(heading2.getText(), "Integration challenge");
        assertTrue(heading2.isDisplayed());
    }

    @AfterMethod
    public void tearDown() { driver.close();}
}
            </code></pre>
            <!-- @formatter:on-->
        </section>
        <section>
            <h2>Next step <b style="color: red; font-size: 1.3em">?</b> <br/>Make this things perfect!</h2>
            <img style="margin-top: 0.5em" height="380px" src="pics/comic_strip/truck_cockpit_view.jpg">
            <!--http://i.imgur.com/FwITKwm.jpg-->
        </section>
        <section>
            <h3 style="line-height: 1.8">
                <ul class="red_x">
                    <li>Rewrite all of our tests?</li>
                    <li>Validate the documentation PDF?</li>
                    <li>Test the rich-client implementation as well?</li>
                    <li>Where to run the test?</li>
                </ul>
            </h3>
        </section>
        <section>
            <img style="margin: 0 100px 0.7em 100px " height="350px" src="pics/comic_strip/lets-go-i-m-ready.jpg">
            <ul class="arrow_right">
                <li>Keep current tests</li>
                <li>Use same codebase</li>
                <li>Keep it simple</li>
            </ul>
        </section>
        <!--TODO TS check links, whitespaces and design issues from code formatting-->
        <section>
            <h2 style="margin-bottom: 0.2em; padding-bottom: 0.3em">
                <img style="height: 1.5em;box-shadow: none"
                     src="pics/sakuli-logo.png"/>
                Concept</h2>
            <img style="width: 100%;margin-top: 0.7em; padding: 10px" src="pics/sakuli_concept.png">
        </section>
        <section>
            <a href="https://github.com/ConSol/sakuli-examples/blob/6b724dcf618e16455a529276459a109c77a8a236/java-selenium-example/pom.xml"
               target="_blank">
                <h2 style="padding-bottom: 0"><img src="pics/github-mark.png" style="box-shadow: none; height: 0.7em">
                    Add Maven Dependencies</h2>
            </a>
            <!-- @formatter:off-->
            <pre><code class="xml" data-trim contenteditable="false">
<dependencies>
    <!--- selenium and testNG dependency ... -->
    <dependency>
        <groupId>org.sakuli</groupId>
        <artifactId>sakuli-selenium-setup</artifactId>
        <version>1.3.0-247-sakuli-se-SNAPSHOT</version>
        <scope>test</scope>
    </dependency>
</dependencies>

                <!-- ConSol Labs repository holds the Sakuli libraries-->
<repository>
    <id>labs-consol</id>
    <name>ConSol Labs Repository</name>
    <url>http://labs.consol.de/maven/repository</url>
    <snapshots>
        <enabled>false</enabled>
    </snapshots>
    <releases>
        <enabled>true</enabled>
    </releases>
</repository>
<repository>
    <id>labs-consol-snapshots</id>
    <name>ConSol Labs Snapshot-Repository</name>
    <url>http://labs.consol.de/maven/snapshots-repository</url>
    <snapshots>
        <enabled>true</enabled>
    </snapshots>
    <releases>
        <enabled>true</enabled>
    </releases>
</repository>
               </code></pre>
            <!-- @formatter:on-->
        </section>
        <section>
            <h2>Use the Sakuli Annotations</h2>
            <!-- @formatter:off-->
            <pre><code class="java" data-trim contenteditable="false">
@Listeners(SakuliSeTest.class)
public class BasicSakuliSeTest {

    private static final String PDF_EDITOR_NAME = "masterpdfeditor4";
    protected WebDriver driver;
    protected Region screen;
    protected Environment env;
    protected SeTestCaseAction tcAction;

    private Application pdfEditor;

    @BeforeMethod
    public void setUp() throws Exception {
        driver = getSeleniumDriver();
        screen = new Region();
        env = new Environment();
        tcAction = new SeTestCaseAction();
    }

    @AfterMethod(alwaysRun = true)
    public void tearDown() throws Exception {
        if (driver != null)
            driver.close();
    }

    private Application openPDF(String pdfFilePath) {
       return pdfEditor = new Application(PDF_EDITOR_NAME + " \"" + pdfFilePath + "\"").open();
    }

    //....
}
               </code></pre>
            <!-- @formatter:on-->
        </section>

        <section>
            <a href="https://github.com/ConSol/sakuli-examples/blob/6b724dcf618e16455a529276459a109c77a8a236/java-selenium-example/src/test/java/org/sakuli/example/github/GitHubSakuliSeExampleTest.java"
               target="_blank">
                <h2><img src="pics/github-mark.png" style="box-shadow: none; height: 0.7em">
                    Use the Sakuli Annotations</h2>
            </a>
            <!-- @formatter:off-->
            <pre><code class="java" data-trim contenteditable="false">
public class GitHubSakuliSeExampleTest extends AbstractSakuliSeTest {

    private String SAKULI_URL = "https://github.com/ConSol/sakuli/blob/master/README.adoc";

    @Test
    @SakuliTestCase(additionalImagePaths = "/common_pics")
    public void test1() throws Exception {
        //your test code
        driver.get(SAKULI_URL);
        screen.highlight(5);
        screen.find("sakuli_logo.png").highlight();
    }

    @Test
    @SakuliTestCase(
                testCaseName = "mysecondtest",
                warningTime = 15, criticalTime = 25,
                additionalImagePaths = "/common_pics")
    public void test2() throws Exception {
        //your test code
        driver.get(SAKULI_URL);
        screen.highlight(5);
        screen.type(Key.END).find("github_logo.png").highlight();
    }

}
               </code></pre>
            <!-- @formatter:on-->
        </section>
        <section>
            <h3 style="line-height: 1.8">
                <ul class="red_x">
                    <li class="green_hook">Rewrite all of our tests?</li>
                    <li>Validate the documentation PDF?</li>
                    <li>Test the rich-client implementation as well?</li>
                    <li>Where to run the test?</li>
                </ul>
            </h3>
        </section>
        <section>
            <img style="margin: 1em 100px 0.7em 100px " height="380px" src="pics/comic_strip/lets-get-started.jpg">
            <ul class="arrow_right">
                <li>Generate PDF file</li>
                <li>Open it in a native PDF viewer</li>
                <li>Validate the content</li>
            </ul>
            <!--http://i.imgur.com/FwITKwm.jpg-->
        </section>

        <section>
            <a href="https://github.com/ConSol/sakuli-examples/blob/cadce12010b2893f443050bad921d5654b3d7f81/java-selenium-example/src/test/java/org/sakuli/example/citrus/CitrusHtmlPdfTest.java#L32"
               target="_blank">
                <h2><img src="pics/github-mark.png" style="box-shadow: none; height: 0.7em">
                    Test Definition <span style="font-size: 0.5em">(Selenium only)</span></h2>
            </a>
            <!-- @formatter:off-->
            <pre><code class="java" data-trim contenteditable="false">
@Test
@SakuliTestCase
public void testCitrusHtmlContent() throws Exception {
    testCitrusContent("HTML");

    //VALIDATE HTML content
    WebElement heading = driver.findElement(
                By.cssSelector("#citrus-framework--reference-documentation-"));
    dsl.highlightElement(heading);
    assertEquals(heading.getText(), "Citrus Framework - Reference Documentation");
    assertTrue(heading.isDisplayed());

    //VALIDATE PDF ???
}

public void testCitrusContent(String dest) throws Exception {
    searchHeading();

    WebElement docuLink = driver.findElement(By.partialLinkText("Documentation"));
    dsl.highlightElement(docuLink);
    assertTrue(docuLink.isDisplayed());
    docuLink.click();

    WebElement userGuideLink = driver.findElement(By.partialLinkText("User Guide"));
    dsl.highlightElement(userGuideLink);
    assertTrue(userGuideLink.isDisplayed());
    userGuideLink.click();

    WebElement htmlUserGuideLink = driver.findElement(By.partialLinkText(dest));
    dsl.highlightElement(htmlUserGuideLink);
    assertTrue(htmlUserGuideLink.isDisplayed());
    htmlUserGuideLink.click();
}
        </code></pre>
            <!-- @formatter:on-->
        </section>
        <section>
            <a href="https://github.com/ConSol/sakuli-examples/blob/cadce12010b2893f443050bad921d5654b3d7f81/java-selenium-example/src/test/java/org/sakuli/example/citrus/CitrusHtmlPdfTest.java#L48"
               target="_blank">
                <h2><img src="pics/github-mark.png" style="box-shadow: none; height: 0.7em">
                    Test Definition <span style="font-size: 0.5em">(Selenium + Sakuli SE)</span></h2>
            </a>
            <!-- @formatter:off-->
            <pre><code class="java" data-trim contenteditable="false">
@Test
@SakuliTestCase(additionalImagePaths = "citrus_pics")
public void testCitrusPdfContent() throws Exception {

    //opens PDF download page and click download
    testCitrusContent("PDF");
    screen.find("reload_button.png").highlight();

    scroll( //search citrus logo on PDF
            () -> screen.exists("pdf_citrus_title.png", 1),
            //scroll action
            () -> env.type(Key.DOWN).type(Key.DOWN).type(Key.DOWN).type(Key.DOWN),
            //times to try
            10
    );

    //navigate over bookmark menu of PDF viewer
    screen.find("reload_button.png")
            .below(40).highlight()
            .mouseMove();
    screen.find("bookmark_button.png").highlight().click();
    screen.find("bookmark_entry.png").highlight().click();
    screen.find("test_case_pdf_heading.png").highlight().click();

    //scroll until the expected diagram is visible
    scroll(() -> screen.exists("test_case_diagram.png", 1),
            () -> env.type(Key.DOWN).type(Key.DOWN).type(Key.DOWN).type(Key.DOWN),
            10
    );
}
                       </code></pre>
            <!-- @formatter:on-->
        </section>
        <section>
            <h2>Using Java power for UI testing!</h2>
            <!-- @formatter:off-->
            <pre><code class="java" data-trim contenteditable="false">
//...
    scroll( //search for logo
            () -> screen.exists("citrus_fruit.png", 1),
            //scroll action
            () -> env.type(Key.DOWN).type(Key.DOWN).type(Key.DOWN).type(Key.DOWN),
            //times to try
            10
    );
//...


public void scroll(Supplier&lt;Region&gt; check, Supplier doScroll, int times) throws SakuliException {
    for (int i = 1; !Optional.ofNullable(check.get()).isPresent() && i <= times; i++) {
        Logger.logInfo("Scroll page (" + i + ")");
        doScroll.get();
    }
    Optional.ofNullable(check.get()).orElseThrow(() ->
            new SakuliException("Cannot find region by scrooling!")).highlight();
}
                       </code></pre>
            <!-- @formatter:on-->
        </section>

        <section>
            <h3 style="line-height: 1.8">
                <ul class="red_x">
                    <li class="green_hook">Rewrite all of our tests?</li>
                    <li class="green_hook">Validate the documentation PDF?</li>
                    <li>Test the rich-client implementation as well?</li>
                    <li>Where to run the test?</li>
                </ul>
            </h3>
        </section>

        <section>
            <img style="margin: 1em 100px 0.7em 100px " height="380px" src="pics/comic_strip/lets-go-guys.jpg">
            <ul class="arrow_right">
                <li>Make an order at the web client</li>
                <li>Trigger the reporting function in the rich client</li>
                <li>Validate the reported count of produces orders</li>
            </ul>
        </section>

        <section>
            <h2>Control Web and Rich Clients</h2>
            <!-- @formatter:off-->
            <pre><code class="java" data-trim contenteditable="false">
@Test
@SakuliTestCase
public void testWebOrderToReportClient() throws Exception {
    driver.get(TEST_URL);
    WebElement heading1 = driver.findElement(By.name("Cookie Bakery Application"));
    assertTrue(heading1.isDisplayed());

    WebElement order = driver.findElement(By.cssSelector("button blueberry-order"));
    assertTrue(order.isDisplayed());
    for (int i = 0; i < 20; i++) {
        LOGGER.info("place blueberry order " + i);
        order.click();
    }

    //open native client application over $PATH
    reportClient = new Application("baker-report-client").open();
    Region reportClientRegion = reportClient.getRegion();

    //generate the report
    reportClientRegion.type("r", Key.ALT); //type ALT + r to open the report view
    reportClientRegion.find("get-daily-report-button").click();
    reportClientRegion.waitForImage("report-header", 10);
    try {
        reportClientRegion.find("blueberry_muffin_logo");
        reportClientRegion.find("report_blueberry")
                    .below(100)
                    .find("report_value_20");
                    
    } catch (Exception e) {
        //useful for custom error messaten
        throw new SakuliException("Validation of the report client failed"
                    + " - no muffins produced?");
    }
}
               </code></pre>
            <!-- @formatter:on-->
        </section>
        <section>
            <a href="https://github.com/ConSol/sakuli-examples/blob/487d2617fb8c7fbf419e9d35e03a888d992bdb66/java-selenium-example/src/test/java/org/sakuli/example/uiOnly/OsNativeTest.java#L57"
               target="_blank">
                <h2><img src="pics/github-mark.png" style="box-shadow: none; height: 0.7em">
                    Rich Client Gnome Editor</h2>
            </a>
            <!-- @formatter:off-->
            <pre><code class="java" data-trim contenteditable="false">
@Test
@SakuliTestCase(warningTime = 50, criticalTime = 60)
public void testEditorOpensReadMe() throws Exception {
    checkEnvironment();
    gedit.open();

    // shows fluent API and how sub regions can be used
    final Region geditAnchor = screen.waitForImage("gedit", 5)
            .highlight()
            .click();
    // move focus mouse pointer
    geditAnchor.below(100).highlight().mouseMove();

    // use already known region
    final Region otherDocument = geditAnchor
            // great larger search region
            .below(200).setW(300).highlight()
            .waitForImage("search", 20).highlight()
            .click()
            .type("Hello Guys!")
             // base region of "search" button grows 400px
            .grow(400, 400).highlight(2)
            .find("other_documents").highlight();
    //...
}
            </code></pre>
            <!-- @formatter:on-->
        </section>

        <section>
            <h3 style="line-height: 1.8">
                <ul class="green_hook">
                    <li>Rewrite all of our tests?</li>
                    <li>Validate the documentation PDF?</li>
                    <li>Test the rich-client implementation as well?</li>
                    <li class="red_x">Where to run the test?</li>
                </ul>
            </h3>
        </section>


        <section>
            <img style="margin: 0 100px 0.7em 100px " height="380px" src="pics/comic_strip/lets-go-team.jpg">
            <ul class="arrow_right">
                <li>Run all UI tests in the container</li>
                <li>Make it scalable for parallel execution</li>
                <li>Keep the possibility to "watch" the test</li>
                <li>Should be triggered by the CI server</li>
                <li>Use our internal private cloud infrastructure</li>
            </ul>
        </section>

        <section>
            <section>
                <h2>We need a containerized UI! </h2>
                <div style="margin-top: 2em">
                    <img width="100%" style="box-shadow: none" src="pics/container_sakuli.png">
                </div>
                <div style="font-size: 0.75em"> Based on: <a
                        href="https://github.com/ConSol/docker-headless-vnc-container"
                        target="_blank">
                    <img src="pics/github-mark.png" style="box-shadow: none; height: 0.7em">
                    ConSol/docker-headless-vnc-container
                </a>
                </div>
            </section>
            <section>
                <h2>Containers - the new VMs?</h2>
                <div style="margin-top: 2em">
                    <img width="100%" style="box-shadow: none" src="pics/vm_vs_docker.png">
                </div>
            </section>
        </section>
        <section>
            <a target="_blank" href="video/sakuli_containers.mp4">
                <h2>Let's try the Sakuli Container</h2>
            </a>

            <!-- @formatter:off-->
            <div data-markdown contenteditable="false">
                ```bash
                # start the docker container
                docker run -it -p 5911:5901 -p 6911:6901 consol/sakuli-ubuntu-xfce
                docker run -it -p 5912:5901 -p 6912:6901 consol/sakuli-centos-xfce
                docker run -it -p 5913:5901 -p 6913:6901 consol/sakuli-ubuntu-xfce-java
                docker run -it -p 5914:5901 -p 6914:6901 consol/sakuli-centos-xfce-java

                # start in parallel via docker-compose
                # use docker-compos.yml from https://github.com/ConSol/sakuli/tree/master/docker
                docker-compose up
                ```
            </div>
            <!-- @formatter:on-->
            <div style="padding-top: 0.4em;">
                <a target="_blank"
                   href="vnc_overview_local.html">
                    <img width="47%" style="box-shadow: none;" src="pics/docker_sakuli_example.png">
                </a>
            </div>
        </section>


        <section>
            <a href="https://github.com/ConSol/sakuli-examples/blob/b767738f04e2c249d7f447dc4de788d856bb4674/java-selenium-example/Dockerfile#L2"
               target="_blank">
                <h2 style="margin-bottom: 0; padding-bottom: 0"><img src="pics/github-mark.png" style="box-shadow: none; height: 0.7em">
                    Setup Selenium in Docker</h2>
                <small>(Dockerfile)</small>
            </a>
            <!-- @formatter:off-->
            <div data-markdown contenteditable="false">
                ```Dockerfile
                FROM consol/sakuli-ubuntu-xfce-java:1.3.0-247-sakuli-se-SNAPSHOT

                MAINTAINER Tobias Schneck "tobias.schneck@consol.de"
                ENV REFRESHED_AT 2018-07-23

                ### Install gedit as test app
                USER 0
                RUN apt-get update \
                  && apt-get install -y gedit \
                  && apt-get clean -y
                USER 1000

                ### Install webdriver
                ENV WEB_DRIVER /headless/webdriver
                #chrome
                RUN mkdir $WEB_DRIVER && cd $WEB_DRIVER \
                  && wget https://chromedriver.storage.googleapis.com/2.25/chromedriver_linux64.zip \
                  && unzip *.zip && rm *.zip && ls -la
                ```
            </div>
            <div style="text-align: left; font-size: 0.8em">Build and start the container:</div>
            <div data-markdown contenteditable="false">
                ```bash
                docker build -t local/sakuli-se . \
                  && docker run -it -v $(pwd):/opt/maven --user $(id -u) -p 6911:6901 \
                  local/sakuli-se mvn -P docker test
                ```
            </div>
            <!-- @formatter:on-->
        </section>
        <section>
            <a href="https://github.com/ConSol/sakuli-examples/blob/69ed070b20815865ee46d14759255efb581c13f7/java-selenium-example/docker-compose.yml"
               target="_blank">
                <h2 style="margin-bottom: 0; padding-bottom: 0"><img src="pics/github-mark.png" style="box-shadow: none; height: 0.7em">
                    Define a repeatable Test Setup</h2>
                <small>(e.g. Docker Compose)</small>
            </a>
            <!-- @formatter:off-->
            <div data-markdown contenteditable="false">
                ```yaml
                version: '2'
                services:
                  sakuli_se_test:
                    build: .
                      environment:
                        - TZ=Europe/Berlin
                    user: "1000"
                    volumes:
                      - .:/opt/maven
                      - data:/headless/.m2
                    network_mode: "bridge"
                    ports:
                      - 5911:5901
                      - 6911:6901
                    # to keep container running and login via `docker exec -it javaexample_sakuli_java_test_1 bash`
                    # command: "'--tail-log'"
                    command: mvn clean test -P docker -f /opt/maven/pom.xml

                volumes:
                  data:
                    driver: local
                ```
            </div>
            <!--Build and start the container:-->
            <div style="text-align: left; font-size: 0.8em">Build and start the container:</div>
            <div data-markdown contenteditable="false">
                ```bash
                docker-compose up --build --force-recreate
                ```
            </div>
            <!-- @formatter:on-->
        </section>
        <section>
            <a href="https://github.com/ConSol/sakuli-examples/blob/9d073fac653d0cc3eabb9d01c56aff2d6506fbf0/java-selenium-example/skaffold.yaml"
               target="_blank">
                <h2 style="margin-bottom: 0; padding-bottom: 0"><img src="pics/github-mark.png" style="box-shadow: none; height: 0.7em">
                    Add tests to Kubernetes cluster</h2>
                <small>(e.g. Skaffold)</small>
            </a>
            <!-- @formatter:off-->
            <div data-markdown contenteditable="false">
                ```yaml
                apiVersion: skaffold/v1alpha2
                kind: Config
                build:
                  tagPolicy:
                    gitCommit: {}
                  artifacts:
                    - imageName: toschneck/sakuli-se-example
                      docker:
                        dockerfilePath: Dockerfile.skaffold

                deploy:
                  kubectl:
                    manifests:
                      - ./kubernetes-manifests/**.yaml
                ```
            </div>
            <!--Build and start the container:-->
            <div style="text-align: left; font-size: 0.8em">Build and create Kubernetes Job:</div>
            <div data-markdown contenteditable="false">
                ```bash
                # local (dev stage)
                skaffold dev
                # remote (deployment stage)
                skaffold run
                ```
            </div>
            <!-- @formatter:on-->
        </section>

        <section>
            <h3 style="line-height: 1.8">
                <ul class="green_hook">
                    <li>Rewrite all of our tests?</li>
                    <li>Validate the documentation PDF?</li>
                    <li>Test the rich-client implementation as well?</li>
                    <li>Where to run the test?</li>
                </ul>
            </h3>
        </section>

        <!--<section>-->
        <!--<h2 style="padding-bottom: 0">Bakery Demo Setup</h2>-->

        <!--<a href="https://github.com/toschneck/sakuli-example-bakery-testing" target="_blank">-->
        <!--<img width="90%"-->
        <!--style="border: none"-->
        <!--src="pics/ci_umgebung.png"/>-->
        <!--</a>-->
        <!--</section>-->
        <!--<section>-->
        <!--<h2 style="padding-bottom: 0">Bakery Demo Setup</h2>-->
        <!--<a href="https://github.com/toschneck/sakuli-example-bakery-testing" target="_blank">-->
        <!--<img width="90%"-->
        <!--style="border: none"-->
        <!--src="pics/ci_umgebung_2.png"/>-->
        <!--</a>-->
        <!--</section>-->
        <!--<section>-->
        <!--<a target="_blank" href="video/sakuli_ci_cm6_demo.mp4">-->
        <!--<h2>Bakery Demo</h2>-->
        <!--</a>-->

        <!--&lt;!&ndash; @formatter:off&ndash;&gt;-->
        <!--<div data-markdown contenteditable="false">-->
        <!--```bash-->
        <!--git clone https://github.com/toschneck/sakuli-example-bakery-testing.git-->

        <!--# start jenkins-->
        <!--jenkins/deploy_jenkins.sh-->
        <!--# start OMD montioring-->
        <!--omd-nagios/deploy_omd.sh-->

        <!--# start the build of the application images-->
        <!--bakery-app/app-deployment-docker-compose/deploy_app.sh-->

        <!--#start tests-->
        <!--sakuli-tests/execute_all.sh-->
        <!--#start tests for monitoring-->
        <!--sakuli-tests/execute_all_4_monitoring.sh-->

        <!--# for OpenShift deploy configuration, see READE.md-->
        <!--openshift/build_and_deploy_all.sh-->
        <!--```-->
        <!--</div>-->
        <!--&lt;!&ndash; @formatter:on&ndash;&gt;-->
        <!--<div style="padding-top: 0.5em"></div>-->
        <!--<table width="90%">-->
        <!--<tr>-->
        <!--<td width="50%">-->
        <!--<a target="_blank" href="vnc_overview_local.html">-->
        <!--<img style="box-shadow: none;padding-right: 0.5em; width: 100%"-->
        <!--src="pics/ci_bakery_test.png">-->
        <!--</a>-->
        <!--</td>-->
        <!--<td style="vertical-align: top; text-align: right;padding-top: 0.4em;" width="50%">-->
        <!--<a target="=_blank" href="http://localhost:8080/">-->
        <!--<img style="box-shadow: none; width: 100%"-->
        <!--src="pics/ci_jenkins_pipeline.png">-->
        <!--</a>-->
        <!--</td>-->
        <!--</tr>-->
        <!--</table>-->
        <!--</section>-->

        <section>
            <h2>Why <img style="height: 1.5em;box-shadow: none"
                         src="pics/sakuli-logo.png"/></h2>
            <ul>
                <li class="green_hook">Support different web testing providers:</li>
                <ul style="list-style-type: disc; font-size: medium">
                    <li>Sahi OS</li>
                    <li>Selenium</li>
                    <li>... more should follow</li>
                </ul>
                <li class="green_hook">Combines DOM access and native screen recognition</li>
                <li class="green_hook">OpenSource</li>
                <ul style="list-style-type: disc; font-size: medium">

                    <li> no vendor lock in and easy to extend</li>
                </ul>
                </li>
                <li class="green_hook">Ready-to-use Docker images</li>
                <li class="green_hook">Cloud-ready: Kubernetes & OpenShift</li>
            </ul>

        </section>

        <section>
            <h2 style="margin-bottom: 0.2em; padding-bottom: 0.3em"><img style="height: 1.5em;box-shadow: none"
                                                                         src="pics/sakuli-logo.png"/>
                Monitoring Integration</h2>
            <div style="font-size: x-large">
                <img style="margin-left: 1em;box-shadow: none" src="css/theme/pics/green_hook_list.png">
                Nagios
                <img style="margin-left: 1em;box-shadow: none" src="css/theme/pics/green_hook_list.png">
                OMD
                <img style="margin-left: 1em;box-shadow: none" src="css/theme/pics/green_hook_list.png">
                Incinga
                <img style="margin-left: 1em;box-shadow: none" src="css/theme/pics/green_hook_list.png">
                Check_MK
            </div>
            <a target="_blank" href="https://github.com/ConSol/sakuli/blob/master/docs/index.md">
            </a>
            <img style="width: 100%;margin-top: 0.7em" src="pics/omd_integration.png">
        </section>
        <section>
            <h2 style="margin-bottom: 0.2em; padding-bottom: 0.3em"><img style="height: 1.5em;box-shadow: none"
                                                                         src="pics/sakuli-logo.png"/>
                CI Pipeline with Jenkins</h2>
            <a target="_blank" href="https://github.com/ConSol/sakuli/blob/master/docs/index.md">
            </a>
            <img style="width: 100%;margin-top: 0.7em; padding: 10px" src="pics/ci_integration_sakuli.png">
        </section>
        <section>
            <h2 style="margin-bottom: 0.2em; padding-bottom: 0.3em"><img style="height: 1.5em;box-shadow: none"
                                                                         src="pics/sakuli-logo.png"/>
                Test Management UI</h2>
            <a target="_blank" href="http://consol.github.io/sakuli/latest/index.html#sakuli-ui">
            </a>
            <ul class="arrow_right_small">
                <li style="font-size: 0.75em">Comfortable writing and management of test suites</li>
                <li style="font-size: 0.75em">Direct test execution with integrated live view and logs</li>
                <li style="font-size: 0.75em">Extended reports for easy error detection</li>
                <li style="font-size: 0.75em"><b><a href="video/sakuli_ui_overview.mp4" target="_blank">Video</a></b>
                </li>
            </ul>
            <img style="width: 100%;margin-top: 0.7em;" src="pics/sakuli-ui.png">
        </section>

        <section>
            <h2>What's next?</h2>
            <ul style="font-size: 0.8em; padding-top: 1em">
                <li class="arrow_right_small">Implement <b>Junit 5</b> test runner</li>
                <li class="arrow_right_small"><b>Web UI</b> to handle Sakuli test suites</li>
                <ul style="list-style-type: disc">
                    <li class="green_hook_small">
                        JavaScript
                    </li>
                    <li class="red_x_small">
                        Java
                    </li>
                </ul>
                <li class="arrow_right_small">Headless execution</li>
                <ul style="list-style-type: disc">
                    <li class="green_hook_small">
                        <b>Linux:</b> VNC & Docker
                    </li>
                    <li class="red_x_small">
                        <b>Windows:</b> only Terminalserver
                    </li>
                </ul>

                <li class="arrow_right_small"><b>Video</b> recording of the test execution (error documentation)</li>
                <!--<li class="arrow_right_small">Add to cloud testing platform <b>ConSol SweeTest</b></li>-->
                <!--<ul style="list-style-type: disc;">-->
                    <!--<li style=" font-size: 0.8em">Improve test <b>result presentation</b></li>-->
                    <!--<li style=" font-size: 0.8em">Test executing and reporting across <b>container-based</b> clusters-->
                    <!--</li>-->
                <!--</ul>-->
            </ul>
        </section>


        <section>
            <h2>Links</h2>

            <table style="font-size: 0.8em; padding-top: 0.5em">
                <tr>
                    <td>
                        <img src="pics/github.png" style="box-shadow: none; height: 4em">
                    </td>
                    <td style="vertical-align: middle;  white-space:nowrap; padding-left: 1.5em">
                        <a href="https://github.com/ConSol/sakuli" target="_blank">
                            <img src="pics/github-mark.png" style="box-shadow: none; height: 35px"><b
                                style="padding-left: 0.8em">ConSol/sakuli</b>
                        </a>
                        <br/>

                        <div style="padding-top: 0.5em"></div>
                        <a href="https://github.com/consol/sakuli-examples" target="_blank">
                            <img src="pics/github-mark.png" style="box-shadow: none; height: 35px"><b
                                style="padding-left: 0.8em">ConSol/sakuli-examples</b>
                        </a> <br/>

                        <div style="padding-top: 0.5em"></div>
                        <a href="https://github.com/ConSol/sakuli-examples/tree/master/java-selenium-example"
                           target="_blank">
                            <img src="pics/github-mark.png" style="box-shadow: none; height: 35px"><b
                                style="padding-left: 0.8em">ConSol/sakuli-examples/java-selenium-example</b>
                        </a> <br/>
                        <div style="padding-top: 0.5em"></div>

                        <ul style="margin-left: 50px">
                            <li class="arrow_right">
                                <b>
                                    <a style="margin-left: 9px" href="http://showroom-sakuli.paas.consol.de"
                                       target="_blank">
                                        Sakuli Showroom
                                    </a>
                                </b>
                            </li>

                        </ul>
                    </td>
                </tr>
                <tr>
                    <td/>
                    <td style="padding-left: 1.5em">
                        <div style="padding-top: 0.5em"></div>
                        <a href="mailto:sakuli@consol.de">
                            <img src="pics/mail_logo.png" style="box-shadow: none; height: 1.3em">
                            <b>sakuli@consol.de</b>
                        </a>
                        <!--<div style="padding-top: 0.2em">-->
                        <a href="https://twitter.com/sakuli_e2e">
                            <img src="pics/twitter_bird_logo_.png"
                                 style="padding-left:40px;box-shadow: none; height: 1em">
                            <b>@sakuli_e2e</b>
                        </a>
                        <!--</div>-->

                        <!--<div style="padding-top: 2em"></div>-->
                        <!--<a href="https://www.informatik-aktuell.de/entwicklung/methoden/graphical-user-interface-gui-in-containern-testen.html"-->
                        <!--target="_blank">-->
                        <!--<img src="pics/ia_artikel.png" style="margin-left:6px; padding: 10px 22px 10px 22px;" ;-->
                        <!--width="600px">-->
                        <!--</a>-->
                    </td>
                </tr>
            </table>
        </section>

        <section>
            <h1 class="coloured" style="text-transform: inherit">Thank you!</h1>

            <table style="font-size: large;margin-top: 3.5em" width=50%">
                <tr>
                    <td style="text-align: center">
                        <img style="box-shadow: none; width: 200px"
                             src="pics/profil_pic_sakuli.jpg">
                    </td>
                    <td style="padding-right: 1.5em"></td>
                    <td style="vertical-align: middle">
                        <table style="display: block">
                            <tr>
                                <td><b>Tobias Schneck</b></td>
                            </tr>
                            <tr>
                                <td>
                                    <a style="float: left; padding-right: 1em" href="mailto:tobi@loodse.com"
                                       target="_blank">tobi@loodse.com</a>
                                </td>
                            </tr>
                            <tr>
                                <td style="padding-top: 0.2em; width: 500px">
                                    <a href="https://twitter.com/toschneck" target="_blank">
                                        <img src="pics/twitter_bird_logo_.png" style="box-shadow: none; height: 22px">
                                        @toschneck
                                    </a>
                                    <a style="padding-left: 1em" href="https://github.com/toschneck" target="_blank">
                                        <img src="pics/github-mark.png" style="box-shadow: none; height: 22px"><b
                                            style="padding-left: 0.4em; font-size: medium">toschneck</b>
                                    </a>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td style="text-align: center;vertical-align: top">
                        <img src="pics/loodse_logo.png"
                             style="padding-top: 3em; width: 300px; box-shadow: none;float: none">
                    </td>
                    <td/>
                    <td style="padding-top: 3em; vertical-align: middle">
                        <table style="display: block; white-space:nowrap">
                            <tr>
                                <td colspan="2"><b>Loodse GmbH</b></td>
                            </tr>
                            <tr>
                                <td colspan="2">Fuhlsbüttler Straße 405</td>
                            </tr>
                            <tr>
                                <td colspan="2">D-22307 Hamburg</td>
                            </tr>
                            <tr>
                                <td><a href="mailto:info@loodse.com">info@loodse.com</a></td>
                            </tr>
                            <tr>
                                <td><a href="http://www.loodse.com">www.loodse.com</a></td>
                            </tr>
                            <tr>
                                <td colspan="2" style="padding-top: 0.2em">
                                    <a href="https://twitter.com/loodse" target="_blank">
                                        <img src="pics/twitter_bird_logo_.png" style="box-shadow: none; height: 22px">
                                        @Loodse
                                    </a>
                                    <a style="padding-left: 1em" href="https://github.com/loodse" target="_blank">
                                        <img src="pics/github-mark.png" style="box-shadow: none; height: 22px"><b
                                            style="padding-left: 0.4em; font-size: medium">Loodse</b>
                                    </a>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
        </section>

    </div>
</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>
    // More info https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        controls: false,
        progress: true,
        history: true,
        center: true,
        touch: true,
        hideAddressBar: true,

        transition: 'slide', // none/fade/slide/convex/concave/zoom

        // Slide number formatting can be configured using these variables:
        //  h: current slide's horizontal index
        //  v: current slide's vertical index
        //  c: current slide index (flattened)
        //  t: total number of slides (flattened)
//        slideNumber: 'c / t',
        slideNumber: 'c',


        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
            {
                src: 'lib/js/classList.js', condition: function () {
                    return !document.body.classList;
                }
            },
            {
                src: 'plugin/markdown/marked.js', condition: function () {
                    return !!document.querySelector('[data-markdown]');
                }
            },
            {
                src: 'plugin/markdown/markdown.js', condition: function () {
                    return !!document.querySelector('[data-markdown]');
                }
            },
            {
                src: 'plugin/highlight/highlight.js', async: true, callback: function () {
                    hljs.initHighlightingOnLoad();
                }
            },
            {src: 'plugin/zoom-js/zoom.js', async: true},
            {src: 'plugin/notes/notes.js', async: true}
        ]
    });

    //custom added functionality
    isPrintingPdf = function () {
        return (/print-pdf/gi).test(window.location.search);
    }
    Reveal.showControls = function () {
        if (Reveal.isFirstSlide()) {
            Reveal.configure({controls: false});
        } else {
            Reveal.configure({controls: true});
        }
    };

    if (isPrintingPdf()) {
        console.log("PDF - no control functions!");
    } else {
        console.log("NO PDF - override control functions!");
        Reveal.addEventListener('slidechanged', function (event) {
            Reveal.showControls();
        });
        Reveal.showControls();
    }
</script>
</body>
</html>
